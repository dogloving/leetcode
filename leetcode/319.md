```
class Solution {
public:
    int bulbSwitch(int n) {
        return sqrt(n);
    }
};
```
<pre>这题答案非常简单。首先我们要知道，最开始所有灯泡都是关的，如果我们对一个灯泡toggle了奇数次它最后是亮的，如果toggle了偶数次它最后是暗的。所以我们
判断一个灯泡最后的状态只需知道过程中我们总共toggle了它多少次。什么情况下我们会toggle它呢？当次数是这个灯泡序列的约数时。比如这个灯泡是第6个（从1开始计数），
那么在第1、2、3、6次会toggle到这个灯泡，共toggle了偶数次，所以最终它是暗的。又如某个灯泡是第9个，我们会在第1、3、9次toggle这个灯泡，共toggle了奇数次，
所以最终它的亮的。然后问题就变成了求一个数所有约数的数量。对于一个非平方数x，如果它存在一个约数a，那么它必定存在另一个不等于a的约数x/a，因此一个非平方数
的约数数量为偶数个；同理一个平方数的约数数量为奇数个。所以最后亮的都是位于平方数位置上的灯泡。所以我们对n开方等到sqrt(n),那么最后1,2,3,...,sqrt(n)的
平方位置上的灯泡是亮的。所以最后答案是sqrt(n)。</pre>
